<?xml version="1.0"?>

<!DOCTYPE overlay [
  <!ENTITY % dtd1 SYSTEM "chrome://inspector/locale/inspector.dtd"> %dtd1;
  <!ENTITY % dtd2 SYSTEM "chrome://inspector/content/util.dtd"> %dtd2;
  <!ENTITY % dtd3 SYSTEM "chrome://inspector/locale/viewers/dom.dtd"> %dtd3;
]>

<?xml-stylesheet href="chrome://inspector/skin/viewers/dom/dom.css"?>

<page id="winDOMViewer"
      orient="vertical"
      xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  
  <script type="application/x-javascript" src="chrome://inspector/content/viewers/dom/dom.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/utils.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/Flasher.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/xpcom/XPCU.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/rdf/RDFU.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/system/PrefUtils.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/xul/inOutlinerBuilder.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/xul/DNDUtils.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/jsutil/events/ObserverManager.js"/>
  <script type="application/x-javascript" src="chrome://inspector/content/hooks.js"/>

  <!--============================= COMMANDS ============================== -->

  <commandset>
    <command id="cmdInsertNode"
      oncommand="viewer.cmdDeleteSelectedNode()"/>

    <command id="cmdDeleteNode"
      oncommand="viewer.cmdDeleteSelectedNode()"/>

    <command id="cmdCopyXML"
      oncommand="viewer.cmdCopySelectedXML()"/>

    <command id="cmdInspectBrowser" 
      isvalid="return viewer.cmdInspectBrowserIsValid()"
      oncommand="viewer.cmdInspectBrowser()"/>

    <command id="cmdInspectInNewWindow" 
      oncommand="viewer.cmdInspectInNewWindow()"/>

    <command id="cmdShowPseudoClasses"
      oncommand="viewer.cmdShowPseudoClasses()"/>
  </commandset>
  
  <!--============================= POPUPS ============================== -->

  <popupset id="psPopups">
    <popup id="ppDOMContext" onpopupshowing="viewer.onContextCreate(this)">
      <menuitem label="&cmdInspectInNewWindow.label;" observes="cmdInspectInNewWindow"/>
      <menuitem label="&cmdInspectBrowser.label;" observes="cmdInspectBrowser"/>
      <menuseparator/>
      <menuitem label="&cmdInsertNode.label;" observes="cmdInsertNode"/>
      <menuitem label="&cmdDeleteNode.label;" observes="cmdDeleteNode"/>
      <menuseparator/>
      <menuitem label="&cmdCopyXML.label;" observes="cmdCopyXML"/>
      <menuitem label="&cmdShowPseudoClasses.label;" observes="cmdShowPseudoClasses"/>
    </popup>
  </popupset>

  <!-- ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::
    The template for this outliner will be filled in by inOutlinerBuilder
    ::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: -->
  
  <outliner id="trDOMOutliner" flex="1" class="outliner-nocolpicker"
            onselect="viewer.onItemSelected()">
    <outlinerbody id="trDOMOutlinerBody" flex="1" context="ppDOMContext"
                  datasources="rdf:null" ref="inspector:DOMRoot"
                  containment="&INS-rdf;HasChildren" flags="dont-test-empty">
      <template/>
    </outlinerbody>
  </outliner>
</page>
